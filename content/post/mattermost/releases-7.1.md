---
title: "Mattermost 7.1ã®æ–°æ©Ÿèƒ½"
emoji: "ğŸ‰"
published: true
date: 2022-07-20T23:00:00+09:00
toc: true
tags: ["mattermost", "releases"]
---

Mattermost è¨˜äº‹ã¾ã¨ã‚: https://blog.kaakaa.dev/tags/mattermost/

[Twitter: @mattermost_jp](https://twitter.com/mattermost_jp) ã§ Mattermost ã«é–¢ã™ã‚‹æ—¥æœ¬èªã®æƒ…å ±ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

# ã¯ã˜ã‚ã«

2022/07/15 ã« Mattermost ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¨ãªã‚‹ `v7.1.0` ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚ã¾ãŸã€åŒæ—¥ã«[Marketplaceé–¢é€£ã®å•é¡Œ](https://mattermost.atlassian.net/browse/MM-45731)ã‚’ä¿®æ­£ã—ãŸ `v7.1.1` ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ã¾ã™ã€‚  

æœ¬è¨˜äº‹ã¯ã€å€‹äººçš„ã«æ°—ã«ãªã£ãŸæ–°ã—ã„æ©Ÿèƒ½ãªã©ã‚’å‹•ã‹ã—ã¦ã¿ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚
å¤‰æ›´å†…å®¹ã®è©³ç´°ã«ã¤ã„ã¦ã¯å…¬å¼ã®ãƒªãƒªãƒ¼ã‚¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

- [Mattermost v7\.1 is now available \- Upgrade today](https://mattermost.com/blog/mattermost-v7-1-is-now-available/)
- [Mattermost self\-hosted changelog](https://docs.mattermost.com/install/self-managed-changelog.html#release-v7-1--extended-support-release)

---

å„æ©Ÿèƒ½ã®è¦‹å‡ºã—å‰ã®è¨˜å·ã¯ã€ãã®æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½ãªã‚¨ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚

- [Professional](https://mattermost.com/pricing/)
- [Enterprise](https://mattermost.com/pricing/)

è¦‹å‡ºã—ã®å‰ã«ä½•ã‚‚ãªã„å ´åˆã€Starter(OSS ç‰ˆ)ã§ã‚‚åˆ©ç”¨å¯èƒ½ãªæ©Ÿèƒ½ã§ã™ã€‚

ã¾ãŸã€å„è¦‹å‡ºã—ã«Prefixã¨ã—ã¦Mattermostã®æ©Ÿèƒ½åˆ†é¡ã‚’è¨˜è¿°ã—ã¦ã„ã¾ã™ã€‚

- [Channels](https://docs.mattermost.com/guides/channels.html): å¾“æ¥ã®ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½
- [Playbook](https://docs.mattermost.com/guides/playbooks.html): Mattermost v6.0ã‹ã‚‰è¿½åŠ ã•ã‚ŒãŸã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆç®¡ç†æ©Ÿèƒ½
- [Boards](https://docs.mattermost.com/guides/boards.html): Mattermost v6.0ã‹ã‚‰è¿½åŠ ã•ã‚ŒãŸKanbanãƒœãƒ¼ãƒ‰æ©Ÿèƒ½ ([Focalboard](https://www.focalboard.com/))
- Platform: ä¸Šè¨˜æ©Ÿèƒ½ã‚’å«ã‚€Mattermostå…¨ä½“

## (Professional/Enterprise) Platform: ã‚¤ãƒ³ã‚µã‚¤ãƒˆ (ãƒ™ãƒ¼ã‚¿ç‰ˆ)

ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å†…ã®åˆ©ç”¨çŠ¶æ³ã‚„æ´»å‹•çŠ¶æ³ã‚’ä¸€ç›®ã§ç¢ºèªã§ãã‚‹[**ã‚¤ãƒ³ã‚µã‚¤ãƒˆæ©Ÿèƒ½**](https://docs.mattermost.com/welcome/insights.html)ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚(æœ‰å„Ÿç‰ˆé™å®šã®æ©Ÿèƒ½ã§ã™ã€‚)

![channels-insight](https://blog.kaakaa.dev/images/posts/mattermost/releases-7.1/channels-insight.png)

ã‚¤ãƒ³ã‚µã‚¤ãƒˆã¯ã€è‡ªåˆ†ãŒå‚åŠ ã—ã¦ã„ã‚‹ãƒãƒ£ãƒ³ãƒãƒ«ãƒ»ã‚¹ãƒ¬ãƒƒãƒ‰ã®ã¿ã®æƒ…å ±ã‚’é›†ã‚ãŸã‚¤ãƒ³ã‚µã‚¤ãƒˆ(**ç§ã®ã‚¤ãƒ³ã‚µã‚¤ãƒˆ**)ã¨ã€ãƒãƒ¼ãƒ å…¨ä½“ã«é–¢ã™ã‚‹ã‚¤ãƒ³ã‚µã‚¤ãƒˆ (**ãƒãƒ¼ãƒ ã‚¤ãƒ³ã‚µã‚¤ãƒˆ**)ã®2ã¤ã‹ã‚‰é¸ã‚“ã§è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

![channels-insight-menu](https://blog.kaakaa.dev/images/posts/mattermost/releases-7.1/channels-insight-menu.png)

ã¾ãŸã€ã‚¤ãƒ³ã‚µã‚¤ãƒˆã®é›†è¨ˆæœŸé–“ã¯ã€**ä»Šæ—¥**ã€**ç›´è¿‘7æ—¥é–“**ã€**ç›´è¿‘28æ—¥é–“**ã‹ã‚‰é¸ã¶ã“ã¨ãŒã§ãã¾ã™ã€‚

![channels-insight-timeframes](https://blog.kaakaa.dev/images/posts/mattermost/releases-7.1/channels-insight-timeframes.png)

å„ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«éƒ¨åˆ†ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãƒˆãƒƒãƒ—ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ä¸Šä½5ã‚¹ãƒ¬ãƒƒãƒ‰ã€ãƒˆãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¨ãƒˆãƒƒãƒ—ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ä¸Šä½10é …ç›®ã¾ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

![channels-insight-widget](https://blog.kaakaa.dev/images/posts/mattermost/releases-7.1/channels-insight-widget.png)

**ãƒãƒ¼ãƒ ã‚¤ãƒ³ã‚µã‚¤ãƒˆ**ã®**ãƒˆãƒƒãƒ—ã‚¹ãƒ¬ãƒƒãƒ‰**ã«ã¯ã€è‡ªåˆ†ãŒå‚åŠ ã—ã¦ã„ãªã„ãƒãƒ£ãƒ³ãƒãƒ«ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‚‚è¡¨ç¤ºã•ã‚Œã‚‹ãŸã‚ã€ä¼šè©±ãŒç››ã‚Šä¸ŠãŒã£ã¦ã„ã‚‹ãƒãƒ£ãƒ³ãƒãƒ«ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãªã©ãŒã§ãã‚‹ã‚ˆã†ã«ã‚‚ãªã‚Šãã†ã§ã™ã€‚

## Channels: Mobile v2.0(ãƒ™ãƒ¼ã‚¿ç‰ˆ)ã®é–‹ç™ºã«ä¼´ã†å„ç¨®æ›´æ–°

ä»Šå›ã®ãƒªãƒªãƒ¼ã‚¹ã«ã¯ã€å…ˆæœˆç´¹ä»‹ã—ãŸ[Mobileã‚¢ãƒ—ãƒª v2.0ã®ãƒ™ãƒ¼ã‚¿ç‰ˆ](https://blog.kaakaa.dev/post/mattermost/releases-7.0/#channels-mobile-v20-beta)ã®é–‹ç™ºã«ä¼´ã†æ›´æ–°ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚Mobile v2.0(Beta)ã¯ã€æ©Ÿèƒ½è¿½åŠ ã‚„ãƒã‚°ä¿®æ­£ãŒæ¯é€±è¡Œã‚ã‚Œã¦ãŠã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚‚æ­“è¿ã—ã¦ã„ã¾ã™ã€‚æ­£å¼ç‰ˆã®ãƒªãƒªãƒ¼ã‚¹ã¯ä»Šå¹´æœ«ã‚’äºˆå®šã—ã¦ã„ã‚‹ãã†ã§ã™ã€‚

Mobileã‚¢ãƒ—ãƒª v2.0ã®ãƒ™ãƒ¼ã‚¿ãƒ†ã‚¹ãƒˆã«å‚åŠ ã™ã‚‹æ–¹æ³•ã¯ã€ä»¥ä¸‹ã®ãƒ–ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒªã«èª¬æ˜ãŒã‚ã‚Šã¾ã™ã€‚  
[Join the Mattermost mobile beta program: v2\.0 is now live\! \- Mattermost](https://mattermost.com/blog/mobile-beta-program-v2/)


## ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰æ™‚ã®æ³¨æ„äº‹é …

### æ–°ãŸã«è¿½åŠ ã•ã‚ŒãŸ`MaxImageDecoderConcurrency`ã®è¨­å®šå€¤ã«ã¤ã„ã¦

æ–°ãŸã«è¿½åŠ ã•ã‚ŒãŸç”»åƒãƒ‡ã‚³ãƒ¼ãƒ‰åŒæ™‚å®Ÿè¡Œæ•°ã«é–¢ã™ã‚‹è¨­å®š MaxImageDecoderConcurrency ã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ -1 ãŒè¨­å®šã•ã‚Œã¦ãŠã‚Šã€ã“ã‚Œã¯CPUã¨åŒæ•°ã§ã‚ã‚‹ã“ã¨ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚

ã“ã®è¨­å®šã¯ã€Mattermostã‚µãƒ¼ãƒãƒ¼ã®ãƒ¡ãƒ¢ãƒªæ¶ˆè²»é‡ã«å½±éŸ¿ãŒã‚ã‚Šã€è¨­å®šå€¤ã®æ±ºå®šã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚  
ã¾ãšã€Mattermostã§å˜ä¸€ã®ç”»åƒã‚’å‡¦ç†ã™ã‚‹éš›ã®æœ€å¤§ãƒ¡ãƒ¢ãƒªæ¶ˆè²»é‡ã¯ã€æœ€å¤§ç”»åƒè§£åƒåº¦ã®è¨­å®š[MaxImageResolution](https://docs.mattermost.com/configure/configuration-settings.html#maximum-image-resolution)ã®è¨­å®šå€¤ã‚’ä½¿ç”¨ã—ã¦ MaxImageResolution * 24ãƒã‚¤ãƒˆã¨è¨ˆç®—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã•ã‚‰ã«ã€æœ¬ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚ˆã‚Šè¿½åŠ ã•ã‚ŒãŸMaxImageDecoderConcurrencyã«ã‚ˆã‚‹ç”»åƒå‡¦ç†ã®åŒæ™‚å®Ÿè¡Œæ•°ã‚’è€ƒæ…®ã™ã‚‹ã¨ã€MaxImageResolution * MaxImageDecoderConcurrency * 24ãƒã‚¤ãƒˆãŒã€Mattermostã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸãƒ¡ãƒ¢ãƒªã‚ˆã‚Šå°ã•ããªã‚‹ã‚ˆã†è¨­å®šå€¤ã‚’æ±ºå®šã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚

### ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ã«ã‹ã‹ã‚‹æ‰€è¦æ™‚é–“

Mattermost 7.1ã«ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ãŒå­˜åœ¨ã—ã¾ã™ã€‚ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰æ™‚ã«ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ã«ã‹ã‹ã‚‹æ™‚é–“ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆçµæœã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

* MySQL, æŠ•ç¨¿æ•°1200ä¸‡, ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ•°250ä¸‡ â†’ ~1åˆ†34ç§’ (8 core CPU / 16GB RAM)
* PostgreSQL, æŠ•ç¨¿æ•°1200ä¸‡, ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ•°250ä¸‡ â†’ ~1åˆ†18ç§’ (db.r5.2xlarge)

ä»¥ä¸‹ã®SQLã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å‰ã«æ‰‹å‹•ã§ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ãŒã€ã“ã®ã‚¯ã‚¨ãƒªã¯`Reaction`ãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®ãƒ­ãƒƒã‚¯ã‚’å–å¾—ã™ã‚‹ãŸã‚ã€SQLå®Ÿè¡Œä¸­ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŠ•ç¨¿ã—ãŸãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«åæ˜ ã•ã‚Œã¾ã›ã‚“ã€‚

* MySQL

```sql
ALTER TABLE Reactions ADD COLUMN ChannelId varchar(26) NOT NULL DEFAULT "";

UPDATE Reactions SET ChannelId = COALESCE((select ChannelId from Posts where Posts.Id = Reactions.PostId), '') WHERE ChannelId="";

CREATE INDEX idx_reactions_channel_id ON Reactions(ChannelId) LOCK=NONE;
```

* PostgreSQL

```sql
ALTER TABLE reactions ADD COLUMN IF NOT EXISTS channelid varchar(26) NOT NULL DEFAULT '';

UPDATE reactions SET channelid = COALESCE((select channelid from posts where posts.id = reactions.postid), '') WHERE channelid='';

CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_reactions_channel_id on reactions (channelid);
```

## ãŠã‚ã‚Šã«
æ¬¡ã®`v7.2`ã®ãƒªãƒªãƒ¼ã‚¹ã¯ 2022/08/16(Tue)ã‚’äºˆå®šã—ã¦ã„ã¾ã™ã€‚

