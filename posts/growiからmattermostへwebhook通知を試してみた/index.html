<!doctype html><html lang=ja-jp><head><meta charset=utf-8><title>GrowiからMattermostへWebhook通知を試してみた</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-57299975-4"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-57299975-4')</script><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=https://blog.kaakaa.dev/index.xml title="kaakaa blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.kaakaa.dev/images/icon.png"><meta name=twitter:title content="GrowiからMattermostへWebhook通知を試してみた"><meta name=twitter:description content="はじめに Growiではイベントの通知先としてSlack Incoming Webhookを指定することができます。 Slack代替OSSであるMattermos"><meta property="og:title" content="GrowiからMattermostへWebhook通知を試してみた"><meta property="og:description" content="はじめに Growiではイベントの通知先としてSlack Incoming Webhookを指定することができます。 Slack代替OSSであるMattermos"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.kaakaa.dev/posts/growi%E3%81%8B%E3%82%89mattermost%E3%81%B8webhook%E9%80%9A%E7%9F%A5%E3%82%92%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%81%9F/"><meta property="og:image" content="https://blog.kaakaa.dev/images/icon.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-07-08T00:02:04+09:00"><meta property="article:modified_time" content="2018-07-08T00:02:04+09:00"><link rel=stylesheet href=https://blog.kaakaa.dev/fontawesome/css/all.min.css><link id=dark-mode-theme rel=stylesheet href=https://blog.kaakaa.dev/css/dark.css><script>var darkTheme=document.getElementById('dark-mode-theme'),storedTheme=localStorage.getItem('dark-mode-storage');storedTheme==='dark'?darkTheme.disabled=!1:storedTheme==='light'&&(darkTheme.disabled=!0)</script><script src=https://blog.kaakaa.dev/js/bundle.js></script><script src=https://blog.kaakaa.dev/js/instantpage.min.js type=module defer></script><meta name=generator content="Hugo 0.82.0"></head><body><header><nav class=navbar><div class=nav><ul class=nav-links></ul></div></nav><div class=intro-header><div class=container><div class=posts-heading><h1>GrowiからMattermostへWebhook通知を試してみた</h1></div></div></div></header><div class=container role=main><article class=article class=blog-post><nav id=TableOfContents><ul><li><a href=#はじめに>はじめに</a></li><li><a href=#mattermostの設定>Mattermostの設定</a></li><li><a href=#growiの設定>Growiの設定</a></li><li><a href=#通知の確認>通知の確認</a></li></ul></nav><h2 id=はじめに>はじめに</h2><p><a href=https://growi.org/>Growi</a>ではイベントの通知先としてSlack Incoming Webhookを指定することができます。
Slack代替OSSであるMattermostはWebhookの仕様もSlackに準拠しているため、Slack Incoming Webhook通知の機能を利用してMattermostへ通知を送れるか試してみました。</p><ul><li>動作環境<ul><li>Growi 3.1.12</li><li>Mattermost 5.1.0-rc1</li></ul></li></ul><h2 id=mattermostの設定>Mattermostの設定</h2><p>まず、Mattermost側にGrowiからのWebhookを受け取るための<strong>内向きのウェブフック</strong>を作成します。
別記事にて内向きのウェブフックの作成手順について書いたものがありますので、こちらの手順については下記の記事を参考にしてください。
参考: <a href=https://qiita.com/kaakaa_hoe/items/44b4122cd38e3fd0d262#mattermost%E3%81%AE%E8%A8%AD%E5%AE%9A>esa.ioからMattermostへのWebhook送信を試してみた</a></p><p>作成したMattermostの内向きのウェブフックのURLをコピーしておきます。</p><h2 id=growiの設定>Growiの設定</h2><p>次にGrowiの設定を行います。</p><p><strong>管理</strong> > <strong>通知設定</strong>より通知設定画面を開き、<strong>Webhook URL</strong>にMattermostで作成した内向きのウェブフックのURLを入力します。
&lt;img alt=&ldquo;スクリーンショット 2018-07-07 23.33.30.png&rdquo; src=&ldquo;<a href=https://qiita-image-store.s3.amazonaws.com/0/9891/b1c969f0-862e-10d7-baad-f719142031a5.png%22>https://qiita-image-store.s3.amazonaws.com/0/9891/b1c969f0-862e-10d7-baad-f719142031a5.png"</a> width=&ldquo;70%"</p><p><strong>Save</strong>ボタンを押すことでGrowi側の設定は完了です。</p><h2 id=通知の確認>通知の確認</h2><p>Growi側で新しい投稿を作成します。</p><p>ここで、Mattermostへの通知を送信するには、投稿作成画面の右下にある<strong>Slack通知</strong>のチェックボックスをチェックし、その隣の通知先欄に通知を送信したいMattermostのチャンネルのIDを入力する必要があります。
MattermostのチャンネルIDはチャンネルのURLから確認できます: <code>https://${SITE_URL}/${TEAM}/channels/${チャンネルID}</code>。</p><p>上記の通知先の指定を行なってからGrowiの投稿を作成すると、Mattermostへ下記のような通知が送信されます。</p><div class=blog-tags><a href=https://blog.kaakaa.dev/tags/mattermost/>Mattermost</a>&nbsp;
<a href=https://blog.kaakaa.dev/tags/growi/>Growi</a>&nbsp;</div></article><div id=disqus_thread></div><script type=text/javascript>(function(){var a,b;if(window.location.hostname=="localhost")return;a=document.createElement('script'),a.type='text/javascript',a.async=!0,b='kaakaa-blog',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script><noscript>Please enable JavaScript to view the
<a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><footer><div class=container><p class="credits copyright"><a href=https://blog.kaakaa.dev/about>Yusuke Nemoto</a>
&nbsp;&copy;
2021
&nbsp;/&nbsp;
<a href=https://blog.kaakaa.dev/>kaakaa blog</a>
&nbsp;&ndash;&nbsp;
<em class="fas fa-moon" id=dark-mode-toggle></em></p><p class="credits theme-by">Powered By <a href=https://gohugo.io>Hugo</a>&nbsp;
Theme
<a href=https://github.com/matsuyoshi30/harbor>Harbor</a></p></div></footer></body></html>