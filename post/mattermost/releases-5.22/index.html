<!DOCTYPE html>
<html lang="ja-JP">
  <head>
    <meta charset="utf-8" />
<title>Mattermost5.22の新機能</title>


  
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-57299975-4"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-57299975-4');
  </script>
  




<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link
  rel="alternate"
  type="application/rss+xml"
  href="https://blog.kaakaa.dev/index.xml"
  title="kaakaa blog"
/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Mattermost5.22の新機能"/>
<meta name="twitter:description" content="Mattermost記事まとめ: https://blog.kaakaa.dev/tags/mattermost/ はじめに 2020/4/16にMattermost v5.22.0がリリースされました。 変更内容の詳細について"/>


  <meta property="og:title" content="Mattermost5.22の新機能" />
<meta property="og:description" content="Mattermost記事まとめ: https://blog.kaakaa.dev/tags/mattermost/ はじめに 2020/4/16にMattermost v5.22.0がリリースされました。 変更内容の詳細について" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.kaakaa.dev/post/mattermost/releases-5.22/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-04-17T22:56:12&#43;09:00" />
<meta property="article:modified_time" content="2020-04-17T22:56:12&#43;09:00" />




<link rel="stylesheet" href="https://blog.kaakaa.dev/fontawesome/css/all.min.css" />

<link
  id="dark-mode-theme"
  rel="stylesheet"
  href="https://blog.kaakaa.dev/css/dark.css"
/>

<script>
  var darkTheme = document.getElementById('dark-mode-theme')
  var storedTheme = localStorage.getItem('dark-mode-storage')
  if (storedTheme === 'dark') {
    darkTheme.disabled = false
  } else if (storedTheme === 'light') {
    darkTheme.disabled = true
  }
</script>

<script src="https://blog.kaakaa.dev/js/main.bundle.js"></script>
<script src="https://blog.kaakaa.dev/js/instantpage.min.js" type="module" defer></script>
<meta name="generator" content="Hugo 0.82.0" />
  </head>
  <body>
    
  




  <header>
    <nav class="navbar">
  <div class="nav">
    
      <a href="https://blog.kaakaa.dev/" class="nav-logo">
        <img
          src="https://blog.kaakaa.dev/images/icon.png"
          width="50"
          height="50"
          alt="Logo"
        />
      </a>
    

    <ul class="nav-links">
      
        
          <li>
            <a href="/" id="Home"
              ><em class="fas fa-home fa-lg"></em
            ></a>
          </li>
          
      
        
          <li>
            <a href="/about/" id="About"
              ><em class="fas fa-user fa-lg"></em
            ></a>
          </li>
          
      
        
          <li>
            <a href="/tags/" id="Tags"
              ><em class="fas fa-tag fa-lg"></em
            ></a>
          </li>
          
      
        
          <li>
            <a href="/search/" id="Search"
              ><em class="fas fa-search fa-lg"></em
            ></a>
          </li>
          
      
        
          <li>
            <a href="/index.xml" id="Subscribe"
              ><em class="fas fa-rss fa-lg"></em
            ></a>
          </li>
          
      
    </ul>
  </div>
</nav>

    <div class="intro-header">
      <div class="container">
        <div class="post-heading">
          
            <h1>
              Mattermost5.22の新機能
            </h1>
          
          
            <span class="meta-post">
  <em class="fa fa-calendar-alt"></em
  >&nbsp;Apr 17, 2020
  
</span>

          
        </div>
      </div>
    </div>
  </header>
  

    
  <div class="container" role="main">
    <article class="article" class="blog-post">
      <p>Mattermost記事まとめ: <a href="https://blog.kaakaa.dev/tags/mattermost/">https://blog.kaakaa.dev/tags/mattermost/</a></p>
<h1 id="はじめに">はじめに</h1>
<p>2020/4/16にMattermost v5.22.0がリリースされました。</p>
<p>変更内容の詳細については公式のリリースを確認してください。</p>
<ul>
<li><a href="https://mattermost.com/blog/mattermost-5-22-read-only-channels-channel-moderation-settings-in-e20/">Mattermost 5.22: Read-only channels &amp; channel moderation settings in E20 - Mattermost - Open Source, On-Prem or Private Cloud Messaging</a></li>
<li><a href="https://docs.mattermost.com/administration/changelog.html#release-v5-22-feature-release">https://docs.mattermost.com/administration/changelog.html#release-v5-22-feature-release</a></li>
</ul>
<hr>
<nav id="TableOfContents">
  <ul>
    <li><a href="#チームサイドバーの改善">チームサイドバーの改善</a></li>
    <li><a href="#アーカイブしたチャンネルの復元">アーカイブしたチャンネルの復元</a></li>
    <li><a href="#confluenceプラグインの改善">Confluenceプラグインの改善</a></li>
    <li><a href="#実験的な機能-チャンネルサイドバーの改善">(実験的な機能) チャンネルサイドバーの改善</a></li>
    <li><a href="#チャンネルモデレーション設定-e20">チャンネルモデレーション設定 (E20)</a></li>
    <li><a href="#extended-support-relleaseesr">Extended Support Rellease(ESR)</a></li>
    <li><a href="#破壊的変更">破壊的変更</a>
      <ul>
        <li><a href="#絵文字リアクションポップアップのパフォーマンス改善">絵文字リアクションポップアップのパフォーマンス改善</a></li>
        <li><a href="#チャンネルモデレーション設定のモバイルアプリ対応">チャンネルモデレーション設定のモバイルアプリ対応</a></li>
        <li><a href="#modelpostのpropsフィールドへの直接アクセスの制限"><code>model.Post</code>の<code>Props</code>フィールドへの直接アクセスの制限</a></li>
      </ul>
    </li>
    <li><a href="#キーボードショートカットの追加">キーボードショートカットの追加</a></li>
  </ul>
</nav><h2 id="チームサイドバーの改善">チームサイドバーの改善</h2>
<p>Mattermostは一つのサーバーに複数のチームを作成でき、複数のチームに所属していると画面の左側にチーム切り替え用のサイドバーが表示されます。</p>
<p>今回のリリースで、ショートカットキーによるチームの切り替えができるようになりました。
<strong>Ctrl + Alt</strong> (Windows) / <strong>⌘ + ⌥</strong> (Mac) を押しながら <strong>↑/↓</strong> キー、もしくはチームアイコンの脇に表示された数字のキーを押すことでチームを切り替えることができます。また、ドラッグ&amp;ドロップでチームアイコンの順番を変えることができます。</p>
<p><img src="https://blog.kaakaa.dev/images/posts/mattermost/releases-5.22/switch-team.gif" alt="switch team"></p>
<h2 id="アーカイブしたチャンネルの復元">アーカイブしたチャンネルの復元</h2>
<p>今まで一度アーカイブしたチャンネルを復元するには <a href="https://docs.mattermost.com/administration/command-line-tools.html#mattermost-channel-restore">サーバー管理者向けのコマンドラインツール</a> を使用するか、 <a href="https://api.mattermost.com/#tag/channels/paths/~1channels~1%7Bchannel_id%7D~1restore/post">API</a>からリクエストを送信する必要がありました。</p>
<p>今回のバージョンから、MattermostのWeb画面からチャンネルを復元するメニューが使用可能になりました。
メッセージ検索結果などからアーカイブされたチャンネルに移動し、チャンネルメニューからチャンネル復元のメニューを選択することで復元可能になります。
(注意: 翻訳ミスのため、メニュー名が**「チャンネルをアーカイブする」**と表示されてしまっています&hellip;次回リリースの<code>v5.23.0</code>で修正されているはずです。)</p>
<p><img src="https://blog.kaakaa.dev/images/posts/mattermost/releases-5.22/unarchive.png" alt="unarchive"></p>
<h2 id="confluenceプラグインの改善">Confluenceプラグインの改善</h2>
<p>Atlassian Confluenceを利用しているユーザー向けに、Cofluenceプラグインが新しくなりました。
この改善により、複数のConfluenceサーバーへ接続できるようになり、また様々なConfluence上のイベントを関連するMattermostチャンネルに流すことができるようになります。</p>
<p>イベントを購読したいMattermostチャンネルで、<code>/cofluence subscribe</code>というコマンドを実行することで設定することができます。</p>
<p>詳しくは、下記を参照してください。
<a href="https://mattermost.gitbook.io/plugin-confluence/">https://mattermost.gitbook.io/plugin-confluence/</a></p>
<h2 id="実験的な機能-チャンネルサイドバーの改善">(実験的な機能) チャンネルサイドバーの改善</h2>
<p>現在、Mattermostではチャンネルサイドバーの改善が進んでいます。
今回のリリースでは、実験的な機能としてチャンネルサイドバーに新たな機能が追加されています。</p>
<ul>
<li>サイドバーのカテゴリ(お気に入り、公開チャンネル、非公開チャンネル、ダイレクトメッセージ)が折り畳み可能に</li>
<li>未読チャンネルのみが表示される未読フィルダボタンの設置</li>
<li>チャンネル閲覧履歴に基いたチャンネル移動が可能なボタンの設置</li>
</ul>
<p><img src="https://mattermost.com/wp-content/uploads/2020/04/5.22-1.gif" alt="sidebar"></p>
<p>(画像は<a href="https://mattermost.com/blog/mattermost-5-22-read-only-channels-channel-moderation-settings-in-e20/">公式ブログ</a>から転載)</p>
<p>この実験的な機能を有効にするには、まずシステム管理者によってシステムコンソールから <strong>実験的なサイドバー機能</strong> を有効にします。</p>
<p><img src="https://blog.kaakaa.dev/images/posts/mattermost/releases-5.22/sidebar-system-console.png" alt="system_console"></p>
<p>その後、ユーザーごとに <strong>アカウント設定 &gt; サイドバー &gt; 実験的なサイドバー機能</strong> をオンにすることで有効になります。</p>
<p><img src="https://blog.kaakaa.dev/images/posts/mattermost/releases-5.22/sidebar-account-settings.png" alt="account_settings"></p>
<h2 id="チャンネルモデレーション設定-e20">チャンネルモデレーション設定 (E20)</h2>
<p>（<a href="https://mattermost.com/pricing/">Enterprise E20</a> 限定の機能です）</p>
<p>システム管理者がチャンネルごとに権限設定を行えるようになりました。
この機能により、以下のようなことが可能になります。</p>
<ul>
<li>チャンネル管理者が重要事項を通知するための読み込み専用アナウンスチャンネルの作成</li>
<li>チャンネル全体へのメンション (@channel, @here, @all) の無効化</li>
<li>チャンネルメンバーの変更を許可されたチャンネル管理者のみに制限</li>
</ul>
<p>チャンネル設定画面から設定できます。</p>
<p><img src="https://blog.kaakaa.dev/images/posts/mattermost/releases-5.22/channel-moderation.png" alt="moderation"></p>
<p>詳細について公式ドキュメントを参照してください。
<a href="https://docs.mattermost.com/deployment/advanced-permissions.html#channel-moderation-beta-e20">https://docs.mattermost.com/deployment/advanced-permissions.html#channel-moderation-beta-e20</a></p>
<h2 id="extended-support-relleaseesr">Extended Support Rellease(ESR)</h2>
<p>Mattermostは毎月16日にリリース日が設定されていますが、セキュリティアップデートなどがサポートされるのはリリースから3ヶ月後までです。毎月、もしくは3ヶ月ごとのアップデートが負担になるユーザー向けに昨年11月から9ヶ月サポートが続く Extended Support release (ESR) バージョンが半年に一度リリースされることになりました。</p>
<p>今では<code>v5.9.0</code>がESRとして設定されていましたが、そのサポートが終了し、今後は2020/01/16にリリースされた<code>v5.19.0</code>が ESR リリースとして 2020/10/16 までサポートされます。</p>
<p>詳細は下記を参照してください。</p>
<ul>
<li><a href="https://forum.mattermost.org/t/upcoming-extended-support-release-updates/8526">https://forum.mattermost.org/t/upcoming-extended-support-release-updates/8526</a></li>
<li><a href="https://docs.mattermost.com/administration/extended-support-release.html">https://docs.mattermost.com/administration/extended-support-release.html</a></li>
</ul>
<hr>
<h2 id="破壊的変更">破壊的変更</h2>
<h3 id="絵文字リアクションポップアップのパフォーマンス改善">絵文字リアクションポップアップのパフォーマンス改善</h3>
<p>カスタム絵文字を多く登録すると、絵文字リアクションのポップアップ表示が重くなることがありました。今回のリリースで、パフォーマンス改善のために絵文字リアクション関連のスキーマ変更が行わレました。しかし、多くのカスタム絵文字が登録されている場合、スキーマ変更のアップデート処理に時間がかかることがあるため、利用者の少ない時間帯でのアップデートが推奨されています。</p>
<h3 id="チャンネルモデレーション設定のモバイルアプリ対応">チャンネルモデレーション設定のモバイルアプリ対応</h3>
<p>今回のリリースで追加されたチャンネルモデレーションの設定は、モバイルアプリ v1.30 以降でサポートされています。それ以前のバージョンを使用している状態で、チャンネルモデレーション設定により投稿/絵文字リアクションが制限されているチャンネルで禁止された行為を行った場合、エラーが表示されてしまします。</p>
<h3 id="modelpostのpropsフィールドへの直接アクセスの制限"><code>model.Post</code>の<code>Props</code>フィールドへの直接アクセスの制限</h3>
<p><a href="https://github.com/mattermost/mattermost-server/">mattermost/mattermost-server</a> の <a href="https://github.com/mattermost/mattermost-server/blob/master/model/post.go#L68"><code>model.Post</code></a>を利用した統合機能・プラグインを開発しているユーザー向けの注意事項です。
<code>model.Post</code>内の <code>Props</code> フィールドへの直接アクセスが禁止されたため、今後は<code>GetProps()</code>・<code>SetProps()</code>メソッドを利用してアクセスする必要があります。</p>
<h2 id="キーボードショートカットの追加">キーボードショートカットの追加</h2>
<ul>
<li><strong>Ctrl/⌘ + .</strong>: 右サイドバーのopen/close</li>
<li><strong>Ctrl/⌘ + shift + /</strong>: 直前のメッセージにリアクション</li>
</ul>
<p>キーボードショートカットは **Ctrl / ⌘ + /**で確認することができます。</p>
<p><img src="https://blog.kaakaa.dev/images/posts/mattermost/releases-5.22/shortcut.png" alt="shortcut"></p>
<h1 id="おわりに">おわりに</h1>
<p>次の<code>v5.23</code>のリリースは2020/5/15(Fri)を予定しています。
そして機能追加が行われる<code>v5.24</code>は恐らく2020/6/16(Tue)のリリースになるかと思います。</p>
<hr>
<p><a href="https://twitter.com/mattermost_jp?lang=ja">Mattermost 日本語(@mattermost_jp)さん | Twitter</a> でMattermostに関する日本語の情報を提供しています。</p>



      
        <div class="blog-tags">
          
            <a
              href="https://blog.kaakaa.dev/tags/mattermost/"
              >mattermost</a
            >&nbsp;
          
            <a
              href="https://blog.kaakaa.dev/tags/releases/"
              >releases</a
            >&nbsp;
          
        </div>
      
    </article>
    
    
      
  <div id="disqus_thread"></div>
  <script type="text/javascript">
        (function() {
            
            
            if (window.location.hostname == "localhost") return;

            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            var disqus_shortname = 'kaakaa-blog';
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
  <noscript
    >Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript"
      >comments powered by Disqus.</a
    ></noscript
  >
  <a href="https://disqus.com/" class="dsq-brlink"
    >comments powered by <span class="logo-disqus">Disqus</span></a
  >


    
  </div>

    <footer>
  

<div class="social-icons">
  
    
    
      
      <a href="https://github.com/kaakaa" name="GitHub">
        <em class="fab fa-github-alt fa-lg"></em>
      </a>
    
       &nbsp;&ndash;&nbsp;
      <a href="https://twitter.com/kaakaa_hoe_prog" name="Twitter">
        <em class="fab fa-twitter fa-lg"></em>
      </a>
    
  

  
    
    
       &nbsp;&ndash;&nbsp; 
      <a class="social-icon" href="https://twitter.com/kaakaa_hoe_prog" name="Qiita">
        <img
          src="https://blog.kaakaa.dev/images/qiita.png"
          alt="Qiita"
        />
      </a>
    
  
</div>


  
  <div class="container">
    <p class="credits copyright">
      <a href="https://blog.kaakaa.dev/about">Yusuke Nemoto</a>
      &nbsp;&copy;
      2021
      
        &nbsp;/&nbsp;
        <a href="https://blog.kaakaa.dev/">kaakaa blog</a>
      
      &nbsp;&ndash;&nbsp;
      <em class="fas fa-moon" id="dark-mode-toggle"></em>
    </p>

    <p class="credits theme-by">
      Powered By <a href="https://gohugo.io">Hugo</a>&nbsp;
      Theme
      <a href="https://github.com/matsuyoshi30/harbor">Harbor</a>
    </p>
  </div>
</footer>

  </body>
</html>
